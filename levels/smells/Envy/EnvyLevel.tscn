[gd_scene load_steps=15 format=2]

[ext_resource path="res://levels/smells/Envy/EnvyLevel.gd" type="Script" id=1]
[ext_resource path="res://entities/map/Map.tscn" type="PackedScene" id=2]
[ext_resource path="res://levels/smells/Envy/info.tres" type="Resource" id=3]
[ext_resource path="res://entities/slider/Slider.tscn" type="PackedScene" id=4]
[ext_resource path="res://entities/level/PlayerSpawner.gd" type="Script" id=5]
[ext_resource path="res://entities/doors/DoorSingle.tscn" type="PackedScene" id=6]
[ext_resource path="res://entities/doors/Door.tscn" type="PackedScene" id=7]
[ext_resource path="res://entities/button/ButtonItem.tscn" type="PackedScene" id=8]
[ext_resource path="res://entities/computer/Computer.tscn" type="PackedScene" id=9]
[ext_resource path="res://entities/message/MessagesScreen.tscn" type="PackedScene" id=10]
[ext_resource path="res://levels/smells/Envy/Slides/Slide.tscn" type="PackedScene" id=11]
[ext_resource path="res://entities/Hint/Hint.tscn" type="PackedScene" id=12]

[sub_resource type="GDScript" id=2]
script/source = "extends Message
#This is the mailing class 
"

[sub_resource type="GDScript" id=1]
script/source = "extends WallButton

var message = getObject(\"Message\")

func writeAndSendMessage():
	message.setContact(\"Main Station\")
	message.setMsgContent(\"Hello Can you open this \\n room's door?\")
	message.sendMessage()

func onButtonPressed():
	writeAndSendMessage()
	pass
"

[node name="EnvyLevel" type="Spatial"]
script = ExtResource( 1 )
level_info = ExtResource( 3 )
slider = NodePath("Slider")
map = NodePath("Map")
spawner = NodePath("PlayerSpawner")

[node name="Map" parent="." instance=ExtResource( 2 )]
data = {
"cells": PoolIntArray( 2, 0, -1072300023, 65534, 0, -1072693239, 65535, 1, -1073741821, 262145, 1, -1073610727, 327679, 1, -1073610727, 65535, 3, -1073741821, 262145, 3, -1073610727, 327679, 3, -1073610727, 2, 4, -1072300023, 65534, 4, -1072693239, 1, 5, -1073086462, 65535, 5, -1072693246, 262145, 5, -1073610730, 327679, 5, -1073610730, 0, 6, -1073086427, 2, 6, -1073086433, 65534, 6, -1073086433, 0, 65500, -1073741787, 2, 65500, -1073741793, 65534, 65500, -1073741793, 1, 65501, -1072300030, 65535, 65501, -1073741822, 262145, 65501, -1073610730, 327679, 65501, -1073610730, 2, 65502, -1072300023, 65534, 65502, -1072693239, 65535, 65503, -1073741821, 262145, 65503, -1073610727, 327679, 65503, -1073610727, 65535, 65505, -1073741821, 262145, 65505, -1073610727, 327679, 65505, -1073610727, 2, 65506, -1072300023, 65534, 65506, -1072693239, 65535, 65507, -1073741821, 262145, 65507, -1073610727, 327679, 65507, -1073610727, 65535, 65509, -1073741821, 262145, 65509, -1073610727, 327679, 65509, -1073610727, 2, 65510, -1072300023, 65534, 65510, -1072693239, 1, 65511, -1073086462, 65535, 65511, -1072693246, 262145, 65511, -1073610727, 327679, 65511, -1073610727, 0, 65512, -1073086429, 2, 65512, -1073741793, 65534, 65512, -1073741793, 0, 65514, -1073741788, 4, 65514, -1073741816, 6, 65514, -1073741793, 65530, 65514, -1073741793, 65532, 65514, -1073741816, 1, 65515, -1072300027, 3, 65515, -1072300027, 5, 65515, -1072300030, 65531, 65515, -1073741822, 65533, 65515, -1072300027, 65535, 65515, -1072300027, 262145, 65515, -1073610727, 262147, 65515, -1073610727, 262149, 65515, -1073610727, 327675, 65515, -1073610727, 327677, 65515, -1073610727, 327679, 65515, -1073610727, 6, 65516, -1072300025, 65530, 65516, -1072693241, 1, 65517, -1072693242, 3, 65517, -1072693244, 5, 65517, -1073086459, 65531, 65517, -1073741819, 65533, 65517, -1072693244, 65535, 65517, -1073086458, 262145, 65517, -1073610727, 262147, 65517, -1073610727, 262149, 65517, -1073610727, 327675, 65517, -1073610727, 327677, 65517, -1073610727, 327679, 65517, -1073610727, 1, 65519, -1073741819, 3, 65519, -1072693244, 5, 65519, -1073086459, 65531, 65519, -1073741819, 65533, 65519, -1072693244, 65535, 65519, -1073086459, 262145, 65519, -1073610727, 262147, 65519, -1073610727, 262149, 65519, -1073610727, 327675, 65519, -1073610727, 327677, 65519, -1073610727, 327679, 65519, -1073610727, 6, 65520, -1072300025, 65530, 65520, -1072693241, 1, 65521, -1073741819, 3, 65521, -1072693244, 5, 65521, -1073086459, 65531, 65521, -1073741819, 65533, 65521, -1072693244, 65535, 65521, -1073086459, 262145, 65521, -1073610727, 262147, 65521, -1073610727, 262149, 65521, -1073610727, 327675, 65521, -1073610727, 327677, 65521, -1073610727, 327679, 65521, -1073610727, 1, 65523, -1073741819, 3, 65523, -1072693244, 5, 65523, -1073086459, 65531, 65523, -1073741819, 65533, 65523, -1072693244, 65535, 65523, -1073086459, 262145, 65523, -1073610727, 262147, 65523, -1073610727, 262149, 65523, -1073610727, 327675, 65523, -1073610727, 327677, 65523, -1073610727, 327679, 65523, -1073610727, 6, 65524, -1072300025, 65530, 65524, -1072693241, 1, 65525, -1073741818, 3, 65525, -1072693244, 5, 65525, -1073086459, 65531, 65525, -1073741819, 65533, 65525, -1072693244, 65535, 65525, -1072300026, 262145, 65525, -1073610727, 262147, 65525, -1073610727, 262149, 65525, -1073610727, 327675, 65525, -1073610727, 327677, 65525, -1073610727, 327679, 65525, -1073610727, 1, 65527, -1072693244, 3, 65527, -1072693244, 5, 65527, -1073086459, 65531, 65527, -1073741819, 65533, 65527, -1072693244, 65535, 65527, -1072693244, 262145, 65527, -1073610727, 262147, 65527, -1073610727, 262149, 65527, -1073610727, 327675, 65527, -1073610727, 327677, 65527, -1073610727, 327679, 65527, -1073610727, 6, 65528, -1072300025, 65530, 65528, -1072693241, 1, 65529, -1072693243, 3, 65529, -1072693243, 5, 65529, -1073086462, 65531, 65529, -1072693246, 65533, 65529, -1072693243, 65535, 65529, -1072693243, 262145, 65529, -1073610727, 262147, 65529, -1073610727, 262149, 65529, -1073610730, 327675, 65529, -1073610730, 327677, 65529, -1073610727, 327679, 65529, -1073610727, 2, 65530, -1073741793, 4, 65530, -1073086455, 6, 65530, -1073741793, 65530, 65530, -1073741793, 65532, 65530, -1073086455, 65534, 65530, -1073741793, 1, 65531, -1072300030, 65535, 65531, -1073741822, 262145, 65531, -1073610730, 327679, 65531, -1073610730, 2, 65532, -1072300023, 65534, 65532, -1072693239, 65535, 65533, -1073741821, 262145, 65533, -1073610727, 327679, 65533, -1073610727, 65535, 65535, -1073741821, 262145, 65535, -1073610727, 327679, 65535, -1073610727 )
}

[node name="OmniLight" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.803316, 2.66532, 0 )
omni_range = 7.74091

[node name="OmniLight2" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.803316, 2.66532, -13.6292 )
omni_range = 12.8834

[node name="OmniLight3" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.803316, 2.66532, -29.2458 )
omni_range = 12.8834

[node name="Slider" parent="." instance=ExtResource( 4 )]
slide_scenes = [ ExtResource( 11 ) ]

[node name="PlayerSpawner" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.494166, 1.24387, 5.35171 )
script = ExtResource( 5 )
__meta__ = {
"_editor_description_": ""
}

[node name="Door" parent="." instance=ExtResource( 7 )]
transform = Transform( -0.999999, 0, -4.37113e-08, 0, 1, 0, 4.37113e-08, 0, -0.999999, 0.535573, 0.498946, -22.3953 )

[node name="DoorSingle" parent="." instance=ExtResource( 6 )]
transform = Transform( 0, 0, 1, 0, 1, 0, -1, 0, 0, 0.524118, 0.671499, 6.49909 )

[node name="DoorSingle2" parent="." instance=ExtResource( 6 )]
transform = Transform( 0, 0, 1, 0, 1, 0, -1, 0, 0, 0.524118, 0.600639, -36.154 )
is_interactable = true

[node name="Computer" parent="." instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.69359, 0.509878, -20.3682 )

[node name="MessagesScreen" parent="." instance=ExtResource( 10 )]
transform = Transform( 2.98023e-08, 0, -1, 0, 1, 0, 1, 0, 2.98023e-08, 6.31141, 0.471604, -15.4921 )
code = SubResource( 2 )
display_name = "Message"
description = "MessageScreen"
is_programmable = true

[node name="Button" parent="." instance=ExtResource( 8 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 6.63484, 2.21745, -17.4226 )
code = SubResource( 1 )
display_name = "SendButton"
description = "Click here to send"
is_programmable = true
is_interactable = true

[node name="CheckTimer" type="Timer" parent="."]
wait_time = 0.25
autostart = true

[node name="Hints" parent="." instance=ExtResource( 12 )]
slide_scenes = [ ExtResource( 11 ) ]

[connection signal="opened" from="Door" to="." method="_on_Door_opened"]
[connection signal="interact" from="DoorSingle2" to="." method="_on_DoorSingle2_interact"]
[connection signal="pressed" from="Button" to="." method="_on_Button_pressed"]
[connection signal="timeout" from="CheckTimer" to="." method="_on_CheckTimer_timeout"]
